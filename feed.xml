<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Matt Tytel</title>
    <description>Matt Tytel - personal website
</description>
    <link>http://tytel.org/</link>
    <atom:link href="http://tytel.org/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Thu, 11 Jun 2015 07:56:59 -0700</pubDate>
    <lastBuildDate>Thu, 11 Jun 2015 07:56:59 -0700</lastBuildDate>
    <generator>Jekyll v2.5.3</generator>
    
      <item>
        <title>Stickers!</title>
        <description>&lt;p&gt;I got some stickers printed of the new logo! If you PayPal me $5 at
&lt;a href=&quot;&amp;#109;&amp;#097;&amp;#105;&amp;#108;&amp;#116;&amp;#111;:&amp;#109;&amp;#097;&amp;#116;&amp;#116;&amp;#104;&amp;#101;&amp;#119;&amp;#116;&amp;#121;&amp;#116;&amp;#101;&amp;#108;&amp;#064;&amp;#103;&amp;#109;&amp;#097;&amp;#105;&amp;#108;&amp;#046;&amp;#099;&amp;#111;&amp;#109;&quot;&gt;&amp;#109;&amp;#097;&amp;#116;&amp;#116;&amp;#104;&amp;#101;&amp;#119;&amp;#116;&amp;#121;&amp;#116;&amp;#101;&amp;#108;&amp;#064;&amp;#103;&amp;#109;&amp;#097;&amp;#105;&amp;#108;&amp;#046;&amp;#099;&amp;#111;&amp;#109;&lt;/a&gt; and include your
address I’ll send you one :D&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/static/images/blog/stickers.jpg&quot; alt=&quot;Helm Stickers&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Since the synth is free this is a way of generating some (small) amount of
monetary support.&lt;/p&gt;

&lt;p&gt;I got these die cut stickers through Sticker Mule. They make super high quality
vinyl stickers that are water/sun/scratch resistant. They can even go through
the dishwasher.&lt;/p&gt;

&lt;p&gt;Dimensions are about 3in x 3in.&lt;/p&gt;
</description>
        <pubDate>Mon, 01 Jun 2015 05:30:00 -0700</pubDate>
        <link>http://tytel.org/blog/2015/06/01/stickers/</link>
        <guid isPermaLink="true">http://tytel.org/blog/2015/06/01/stickers/</guid>
        
        
        <category>blog</category>
        
        <category>devblog</category>
        
        <category>helm</category>
        
      </item>
    
      <item>
        <title>Experiments with Material Design</title>
        <description>&lt;p&gt;I’ve done a lot of UI changes with &lt;a href=&quot;https://github.com/mtytel/helm&quot;&gt;Helm&lt;/a&gt; lately based off this
new design idea called &lt;a href=&quot;http://www.google.com/design/spec/material-design/&quot;&gt;Material Design&lt;/a&gt;. You should go check
it out yourself, but the basic idea is you take flat UI design and organize
it in layers like pieces of paper. The result is a combination of bold colors
and skeuomorphic shadows.&lt;/p&gt;

&lt;p&gt;The shadows gave me pause, at first it felt like the 90’s again where you slap
a drop shadow on everything. After looking through Google’s examples and
applying many of their ideas to Helm, I have to say that I’m now a born-again
drop shadow believer. They make colors really pop and are a great way to
emphasize how important certain elements are.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/static/images/blog/shadows.png&quot; alt=&quot;Helm Shadows&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/static/images/blog/shadows2.png&quot; alt=&quot;Helm Shadows&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Google’s design doc is pretty funny when they mention &lt;em&gt;how&lt;/em&gt; to implement the
shadows. They say you shouldn’t approximate the shadows with gradients or
images. Instead they say, render the shadows with a 3d graphics engine. I
&lt;em&gt;guess&lt;/em&gt; I get it, when you have multiple layers overlapping the gradients won’t
look right, but I don’t know many people who can hire a team of developers
to develop a rendering engine just so the shadows look accurate!&lt;/p&gt;

&lt;p&gt;After the shadows, the &lt;a href=&quot;http://www.google.com/design/spec/style/color.html&quot;&gt;color&lt;/a&gt; section has been the most
help in designing Helm. If you get overwhelmed with all the combinations of
possible color palettes like I do, then using Google’s method for picking
colors is a good place to start. They hit a good balance of restricting the
colors enough so whatever combination you pick should look decent while also
having enough colors and shades so not every app using this method will look
the same.&lt;/p&gt;

&lt;p&gt;If you care about design and want some guidelines to follow I highly recommend
giving the whole &lt;a href=&quot;http://www.google.com/design/spec/material-design/&quot;&gt;Material Design&lt;/a&gt; doc a read. They hit on a
lot of other topics like animation, layout and widgits that all have decent
insight on what looks good and what doesn’t.&lt;/p&gt;

</description>
        <pubDate>Sun, 17 May 2015 05:30:00 -0700</pubDate>
        <link>http://tytel.org/blog/2015/05/17/material-design/</link>
        <guid isPermaLink="true">http://tytel.org/blog/2015/05/17/material-design/</guid>
        
        
        <category>blog</category>
        
        <category>devblog</category>
        
        <category>helm</category>
        
        <category>features</category>
        
      </item>
    
      <item>
        <title>Rebranding - Helm</title>
        <description>&lt;p&gt;I’m rebranding Twytch! First the name: Twytch was a little
too similar to the video streaming service ‘Twitch’ and so after playing around
with some logos and names I’ve decided on ‘Helm’. It conveys control, a common
theme in synthesizers, it’s short and easy to remember, and I can’t find other
software that uses the name except for an emacs plugin.&lt;/p&gt;

&lt;p&gt;The other part is a new icon/logo. Graphic design is something I spend a lot of
time on but doesn’t come natural to me. After many hours I think I have a logo
I’m happy with. Here’s the development in reverse chronological order.&lt;/p&gt;

&lt;h3 id=&quot;i-think-its-more-cute-than-cool-and-im-good-with-that&quot;&gt;&lt;strong&gt;I think it’s more cute than cool and I’m good with that:&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/static/images/blog/helm_logo6.png&quot; alt=&quot;Helm Logo 6&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;got-to-helmet-stage-but-didnt-like-the-shadows-and-square-nose&quot;&gt;&lt;strong&gt;Got to ‘helmet’ stage, but didn’t like the shadows and square nose:&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/static/images/blog/helm_logo5.png&quot; alt=&quot;Helm Logo 5&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;flipped-it-its-almost-a-helmet-and-less-of-a-plug&quot;&gt;&lt;strong&gt;Flipped it, it’s almost a helmet and less of a plug:&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/static/images/blog/helm_logo4.png&quot; alt=&quot;Helm Logo 4&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;i-like-the-cuts-of-the-yellow-circle-being-align-with-the-blue-circle&quot;&gt;&lt;strong&gt;I like the cuts of the yellow circle being align with the blue circle:&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/static/images/blog/helm_logo3.png&quot; alt=&quot;Helm Logo 3&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;getting-away-from-that-phallic-design&quot;&gt;&lt;strong&gt;Getting away from that phallic design:&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/static/images/blog/helm_logo2.png&quot; alt=&quot;Helm Logo 2&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;trying-a-different-flat-bold-outline-style&quot;&gt;&lt;strong&gt;Trying a different flat, bold, outline style:&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/static/images/blog/helm_logo1.png&quot; alt=&quot;Helm Logo 1&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;first-design-its-supposed-to-be-a-plug-pretty-phallic-though&quot;&gt;&lt;strong&gt;First design, it’s supposed to be a plug. Pretty phallic though:&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/static/images/blog/helm_logo0.png&quot; alt=&quot;Helm Logo 0&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Fri, 08 May 2015 05:30:00 -0700</pubDate>
        <link>http://tytel.org/blog/2015/05/08/rebranding-to-helm/</link>
        <guid isPermaLink="true">http://tytel.org/blog/2015/05/08/rebranding-to-helm/</guid>
        
        
        <category>blog</category>
        
        <category>devblog</category>
        
        <category>helm</category>
        
      </item>
    
      <item>
        <title>Unexpected Optimization #2: fixed point arithmetic</title>
        <description>&lt;p&gt;I’ve wanted to add a ‘unison’ feature to Twytch for a while but without a
significant performance hit. Unison works by having many oscillators per voice
so improving the oscillator CPU usage was a must.&lt;/p&gt;

&lt;p&gt;The way many oscillator implementations work is by having a ‘phasor’ which is
a phase value that cycles through the values from 0 to 1. When the phase value
is 0, we are at the beginning of the waveform, 0.5 we’re half way through and
when we get to 1, we’re at the end and we set the value back to 0. Checking if
we have to wrap the phase every sample for every oscillator can get pretty
costly. One way to improve this is by using the modf function instead of a
comparison and an if/else branch but it still is has a relatively large CPU
hit.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c--&quot; data-lang=&quot;c++&quot;&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2048&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;phase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;phase_diff&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;...;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Usually we don&amp;#39;t know what value this is.&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;samples&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;phase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;phase_diff&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;phase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;phase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;// Lookup value with phase. No interpolation for this example.&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;phase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;output_buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lookup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// Alternatively with modf which is slightly more efficient.&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;integral_part&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;samples&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;phase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;modf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;phase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;phase_diff&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;integral_part&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;// Lookup value with phase. No interpolation for this example.&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;phase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;output_buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lookup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;There’s another solution though and it’s using ‘fixed-point’ instead of
‘floating-point’ numbers. Floating point numbers can represent a crazy large
range of numbers but for our phasor implementation we only care about number
between 0 and 1. What we can do is use an unsigned integer type to represent
these values. 0 will still remain the beginning of our waveform, but
UINT_MAX will represent the end of our waveform. Cool thing about integers
is that when we add to our phase and go past UINT_MAX, we get the wrapping
for free! Another benefit is if our wave lookup table is a power of two, we
can get the lookup index by bit shifting our current phase down which is
another (albeit small) performance improvement.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c--&quot; data-lang=&quot;c++&quot;&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table_bits&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;shift&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table_bits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;phase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;phase_diff&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;...;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Usually we don&amp;#39;t know what value this is.&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;samples&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// Automatially wraps :D&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;phase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;phase_diff&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;// One bit shift is more efficient than a multiply and cast I believe.&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;phase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;shift&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;output_buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lookup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;After this improvement I’m would say the DSP is at a releasable efficiency.
Comparing Twytch to other similar synths on the commercial market, it’s in the
middle of the pack. The next thing I’ll be focusing on is improving the UI
efficiency as there are a lot of moving parts in Twytch and most of them are
not CPU friendly.&lt;/p&gt;

</description>
        <pubDate>Fri, 01 May 2015 05:30:00 -0700</pubDate>
        <link>http://tytel.org/blog/2015/05/01/unexpected-optimization-02/</link>
        <guid isPermaLink="true">http://tytel.org/blog/2015/05/01/unexpected-optimization-02/</guid>
        
        
        <category>blog</category>
        
        <category>devblog</category>
        
        <category>twytch</category>
        
        <category>optimization</category>
        
      </item>
    
      <item>
        <title>Long Update</title>
        <description>&lt;p&gt;Whew, it’s been a while and a lot has changed! I’ve decided to make
&lt;a href=&quot;https://github.com/mtytel/twytch&quot;&gt;Twytch&lt;/a&gt; a free and open source project releasing it under GNU. My new
goal is to make a very accessible free synth that runs on most platforms.
Because of this I’ve cut back a lot of the more experimental features like
glitches in place of more established ones like unison and a powerful
modulation system.&lt;/p&gt;

&lt;p&gt;The new modulation system is heavily inspired by Bitwig Studio though I don’t
think they were the original creators of this type of system. I’ll talk more
about how it works in a different post.&lt;/p&gt;

&lt;p&gt;I’ve made a bunch of changes to the UI and there’s a lot more coming! I find
going back through the iterations entertaining so I’m posting them all here.
The most recent changes are inspired by &lt;a href=&quot;http://www.google.com/design/spec/material-design/&quot;&gt;Material Design&lt;/a&gt;
which has heavy shadow usage. I used to think drop shadows were pretty
outdated, but when combined with a flat UI, it looks really fresh.&lt;/p&gt;

&lt;p&gt;Here are the UI screenshots in reverse chronological order:&lt;/p&gt;

&lt;h3 id=&quot;material-design-attempt-1-and-new-colors-look-at-dem-shadows&quot;&gt;&lt;strong&gt;Material design attempt 1 and new colors. Look at dem shadows:&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/static/images/blog/2015-04-23-screenshot.png&quot; alt=&quot;Twytch Screenshot 4-23&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;no-more-borders&quot;&gt;&lt;strong&gt;No more borders:&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/static/images/blog/2015-04-14-screenshot.png&quot; alt=&quot;Twytch Screenshot 4-14&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;trying-out-some-new-colors&quot;&gt;&lt;strong&gt;Trying out some new colors:&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/static/images/blog/2015-04-01-screenshot.png&quot; alt=&quot;Twytch Screenshot 4-01&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;im-not-sure-if-i-want-this-entire-synth-to-be-purple&quot;&gt;&lt;strong&gt;I’m not sure if I want this entire synth to be purple:&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/static/images/blog/2015-03-20-screenshot.png&quot; alt=&quot;Twytch Screenshot 3-20&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;prototyping-widgits&quot;&gt;&lt;strong&gt;Prototyping widgits:&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/static/images/blog/2015-01-18-screenshot.png&quot; alt=&quot;Twytch Screenshot 1-18&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Thu, 23 Apr 2015 05:30:00 -0700</pubDate>
        <link>http://tytel.org/blog/2015/04/23/long-update/</link>
        <guid isPermaLink="true">http://tytel.org/blog/2015/04/23/long-update/</guid>
        
        
        <category>blog</category>
        
        <category>devblog</category>
        
        <category>twytch</category>
        
      </item>
    
      <item>
        <title>Unexpected Optimization #1: avoiding denormals</title>
        <description>&lt;p&gt;I’ve been noticing a strange spike in CPU usage while playing
with &lt;a href=&quot;https://github.com/mtytel/twytch&quot;&gt;Twytch&lt;/a&gt;. When a synth voice rings out and is not producing sound
anymore, it is killed and reused later to save CPU cycles. However, there’s
a significant increase in CPU usage right before a voice dies. For a while
this was a mystery, but I was recently reading &lt;a href=&quot;https://github.com/vinniefalco/DSPFilters&quot;&gt;some filter code in another
project&lt;/a&gt; that added a very small alternating current to the input
of the filter. In the comment it said “Hack to prevent denormals”.&lt;/p&gt;

&lt;p&gt;A &lt;a href=&quot;http://en.wikipedia.org/wiki/Denormal_number&quot;&gt;denormal&lt;/a&gt; is a type of really small floating point number.
Wikipedia give a better explanation, but in short the structure of floating
point numbers cause the gap from 0 to the smallest positive number to be much
larger than the gap between the two smallest positive numbers. Architectures
compensate for this by setting aside some numbers that are more evenly spaced
really close to zero called “denormal numbers” or “subnormal numbers”. The
problem with this in synth development, is that processing subnormal numbers
is much slower than normal floating point numbers. Since we create really
small numbers any time there’s an exponential decay like in an envelope or a
filter, we need to disable denormals.&lt;/p&gt;

&lt;p&gt;The alternative to having denormals is flushing those numbers to zero. Since
these numbers are so small these jumps are imperceptible in an audio signal.
All we have to do is slap an environment variable setting and we should be good
to go! (on some machines)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c--&quot; data-lang=&quot;c++&quot;&gt;&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;fenv.h&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fesetenv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FE_DFL_DISABLE_SSE_DENORMS_ENV&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

</description>
        <pubDate>Tue, 10 Feb 2015 04:30:00 -0800</pubDate>
        <link>http://tytel.org/blog/2015/02/10/unexpected-optimization-01/</link>
        <guid isPermaLink="true">http://tytel.org/blog/2015/02/10/unexpected-optimization-01/</guid>
        
        
        <category>blog</category>
        
        <category>devblog</category>
        
        <category>twytch</category>
        
        <category>optimization</category>
        
      </item>
    
      <item>
        <title>Unexpected Optimization #0: at() vs operator[]</title>
        <description>&lt;p&gt;Writing a soft synth requires a lot of optimization. As I develop
&lt;a href=&quot;https://github.com/mtytel/twytch&quot;&gt;twytch&lt;/a&gt; and the synth engine it’s built on, &lt;a href=&quot;https://github.com/mtytel/mopo&quot;&gt;mopo&lt;/a&gt;, I’ll be
posting many of the optimizations I make, especially nonobvious ones. These
could range from simple things like using one-multiply instead of
two-multiply interpolation:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c--&quot; data-lang=&quot;c++&quot;&gt;&lt;span class=&quot;c1&quot;&gt;// These lines compute the same value.&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;one_multiply&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// 1 multiply and 2 adds&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;two_multiply&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 2 multiplies and 2 adds&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Or could be uglier solutions like embedding assembly instructions in C++.
I’m not a C++ optimization expert yet, so some of these things may be more
obvious than others.&lt;/p&gt;

&lt;p&gt;This first unexpected optimization concerns accessing values from std::vector.
Consider these two methods of element access:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c--&quot; data-lang=&quot;c++&quot;&gt;&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vect&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;...;&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;one&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;two&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;There is a significant difference between the two: at() does boundary checking
while operator[] does not. You don’t normally notice this performance
difference, but I was running it once per audio sample for every single
component which totaled in the millions per second.&lt;/p&gt;

&lt;p&gt;Now why would I use at() instead of operator[] in
the first place? The way mopo sets up polyphony is that all the module
instances in each voice share a list of input pointers. For example, every
Filter instance in each poice has a pointer to the same std::vector. Using at()
on a pointer to std::vector is much easier to read than using operator[] or
dereferencing first so I first chose the slower but prettier method.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c--&quot; data-lang=&quot;c++&quot;&gt;&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pvect&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pvect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;push_back&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;slow&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pvect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;          &lt;span class=&quot;c1&quot;&gt;// easy to read but slow.&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fast1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pvect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;operator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[](&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// fast ugly access 1&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fast2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pvect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;          &lt;span class=&quot;c1&quot;&gt;// fast ugly access 2&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Fortunately switching from at() to operator[] an easy thing to fix, and I got a
significant 25% speed boost because of it.&lt;/p&gt;

</description>
        <pubDate>Mon, 19 Jan 2015 04:30:00 -0800</pubDate>
        <link>http://tytel.org/blog/2015/01/19/unexpected-optimization-00/</link>
        <guid isPermaLink="true">http://tytel.org/blog/2015/01/19/unexpected-optimization-00/</guid>
        
        
        <category>blog</category>
        
        <category>devblog</category>
        
        <category>twytch</category>
        
        <category>optimization</category>
        
      </item>
    
      <item>
        <title>Starting Development on Twytch, an open source synthesizer</title>
        <description>&lt;p&gt;On the 1st day of 2015, I started development on an open source software synth, &lt;a href=&quot;https://github.com/mtytel/twytch&quot;&gt;Twytch&lt;/a&gt;. I’ve decided to keep a devblog after seeing some of the devblog successes in the indie game development world such as &lt;a href=&quot;http://willychyr.com/blog/&quot;&gt;Willy Chyr’s Relativity&lt;/a&gt; and &lt;a href=&quot;http://fractgame.com/news&quot;&gt;Phosfiend Systems’ Fract OSC&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The goal of Twytch is a mix of granular and subtractive synthesis that focuses on glitching live and sampled audio input. It currently runs as a VST and Audio Unit and hopefully will run as a stand-alone synthesizer in the future. Some of the technologies I’m using are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.juce.com/&quot;&gt;JUCE&lt;/a&gt;: for cross platform UI development and VST/AU input and output handling&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/mtytel/mopo&quot;&gt;mopo&lt;/a&gt;: a modular and polyphonic synthesizer engine I’m working on&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I started with the code from a past synthesizer I made called &lt;a href=&quot;http://www.gnu.org/software/cursynth/&quot;&gt;cursynth&lt;/a&gt;. It’s this goofy stand-alone ascii synth that runs inside of a terminal with ascii sliders and graphics. From the past weeks of work I have a functioning Audio Unit synthesizer and the beginnings of many of the UI elements. There’s also very cumbersome patch saving and loading, but it works. I’m now at that point in development where you just throw all the controls on the screen and make an ugly UI soup. Have a look:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/static/images/blog/2015-01-18-screenshot.png&quot; alt=&quot;Twytch Screenshot&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Sat, 17 Jan 2015 20:59:06 -0800</pubDate>
        <link>http://tytel.org/blog/2015/01/17/twytch-intro/</link>
        <guid isPermaLink="true">http://tytel.org/blog/2015/01/17/twytch-intro/</guid>
        
        
        <category>blog</category>
        
        <category>devblog</category>
        
        <category>twytch</category>
        
      </item>
    
      <item>
        <title>Stray Bolts</title>
        <description>&lt;p&gt;Not born for courts and chains&lt;br /&gt;
and pendulums swinging up and down,&lt;br /&gt;
through granada’s royal town.&lt;br /&gt;
We softly, slowly dance,&lt;br /&gt;
listening for murmured murmurs.  &lt;/p&gt;

&lt;p&gt;Our vanity endows us&lt;br /&gt;
though neither foe nor friend allow us,&lt;br /&gt;
to hear the force of that murderous deed,&lt;br /&gt;
that made love bleed.  &lt;/p&gt;

&lt;p&gt;To know sometimes we run to madness,&lt;br /&gt;
in thoughtless throngs and empty noise.&lt;br /&gt;
Shall truth with fiction, our world of bloom&lt;br /&gt;
preserve what it first creates?  &lt;/p&gt;
</description>
        <pubDate>Sun, 06 Jan 2013 00:00:00 -0800</pubDate>
        <link>http://tytel.org/poetry/stray-bolts/</link>
        <guid isPermaLink="true">http://tytel.org/poetry/stray-bolts/</guid>
        
        
        <category>poems</category>
        
      </item>
    
      <item>
        <title>Set Fire to the Mind</title>
        <description>&lt;p&gt;From earth’s own elements the race at first rose into life.&lt;br /&gt;
The mother of a hundred pins of light,&lt;br /&gt;
holds the rending sound and tints the sky to her lullaby.&lt;br /&gt;
The breath of her lover, still in the hush of worlds.  &lt;/p&gt;

&lt;p&gt;And when the flowers are gone, we are the seeds,&lt;br /&gt;
drowned in dew, weary of the game.&lt;br /&gt;
For us alone are wrapt and mystic,&lt;br /&gt;
daughters to a noble mind, resonance of harmonious sound&lt;br /&gt;
wandering upon the earth.  &lt;/p&gt;

</description>
        <pubDate>Sat, 05 Jan 2013 00:00:00 -0800</pubDate>
        <link>http://tytel.org/poetry/set-fire/</link>
        <guid isPermaLink="true">http://tytel.org/poetry/set-fire/</guid>
        
        
        <category>poems</category>
        
      </item>
    
  </channel>
</rss>
