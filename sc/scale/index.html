<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
   <link rel="stylesheet" href="/static/css/sc.css" type="text/css" id="theme" />
<title>tytel -

scale of small ratios

</title>
</head>
<body>

<div id="wrap">
  <div id="left-sidebar">
    <div id="left-top">
      MATT TYTEL
    </div>
    <div id="left-nav">
      <ul>
        
          <li>
        
          <a href="/sc/introduction"><p>introduction</p></a></li>
        </li>
        
          <li>
        
          <a href="/sc/sounds_good"><p>what notes sound good?</p></a>
        </li>
        
          <li>
        
          <a href="/sc/scale"><p>scale of small ratios</p></a>
        </li>
        
          <li>
        
          <a href="/sc/single_voice"><p>a single voice</p></a>
        </li>
        
          <li>
        
          <a href="/sc/give_order"><p>give order to your voice</p></a>
        </li>
        
          <li>
        
          <a href="/sc/wall"><p>wall of algorithms</p></a>
        </li>
        
          <li>
        
          <a href="/sc/song_structure"><p>song structure</p></a>
        </li>
        
          <li class="last">
        
          <a href="/sc/experimentation"><p>experimentation</p></a>
        </li>
      </ul>
    </div>
  </div>
  <div id="main">
    <div id="top-bar">
      <div id="top-desc">
        
        
      </div>
    </div>
    
<p id="title">
  The Scale of Small Ratios
</p>
<p>
The program below will collect all the ratios where the numerator and  denominator are both less than a given integer. It then multiplies the base frequency by the ratios and plays the resulting frequencies in ascending order, giving us a scale.
</p>
<pre id="code">
(
  var ratios, fundfreq;
  // Gathers all ratios |a/b| such that:
  // a <= |maxnum|, b <= |maxnum|, |minimum| <= a/b <= |maximum|
  var allratios = {|maxnum, minimum=1, maximum = 2|
    var ratios = Set[];
    maxnum.do({|num|
      maxnum.do({|den|
        var val = (num + 1.0) / (den + 1.0);
        if ((val >= minimum) && (val <= maximum),
          {ratios.add((num + 1.0) / (den + 1.0))}
        );
      });
    });
    ratios.as(Array).sort;
  };

  // Play all the the ratios |a/b| where a <= 7, b <= 7 and 0.5 <= |a/b| <= 2.0
  // multiplied by a fundamental frequency 440.
  ratios = allratios.value(7, 0.5, 2.0);
  ratios.postln;
  fundfreq = 440;
  p = Pbind(
    \freq, Pseq(ratios * fundfreq, 1),
    \amp, 0.3,
    \dur, 0.2
  ).play;
)
</pre>
<p>
This is the scale we will use in the coming sections. It might sound foreign because of the erratic jumps between adjacent notes but we can make some interesting sounding material based on it.
</p>
<p id="title">
  A Note on Equal Temperament
</p>
<i>Equal temperament</i> means the ratio of the frequencies of adjacent notes is constant. In the case of <i>12-tone equal temperament</i> we get to the next note (i.e. go up a half step) we multiply our frequency by 2^(1/12). This means to get to the previous note (down a half step) we multiply our frequency by 2^(-1/12).
</p>
<p>
The twelve equal tempered semitones used are actually close approximations to the small ratios that we are using above. When we play them together, we hear they are not quite the same frequencies, but some of them are almost too close to tell apart.
</p>
<pre id="code">
(
  // Plays harmonic approximations of 12 tone equal temperment
  var freq = 440;
  p = Pbind(
    \freq, Pseq(freq * [1, 16/15, 9/8, 6/5, 5/4, 4/3, 7/5, 3/2, 8/5, 5/3, 7/4, 15/8, 2], 1),
    \amp, 0.4,
    \dur, 0.4
  ).play;

  // Plays 12 tone equally tempered notes spanning one octave
  q = Pbind(
    \freq, Pseq(freq * (2 ** ((0..12)/12)), 1),
    \amp, 0.4,
    \dur, 0.4
  ).play;
)

(p.stop;
 q.stop;) // For Convenience.
</pre>

  </div>
</div>


</body>
</html>