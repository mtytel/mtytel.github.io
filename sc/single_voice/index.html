<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
   <link rel="stylesheet" href="/static/css/sc.css" type="text/css" id="theme" />
<title>tytel -

creating a random voice

</title>
</head>
<body>

<div id="wrap">
  <div id="left-sidebar">
    <div id="left-top">
      MATT TYTEL
    </div>
    <div id="left-nav">
      <ul>
        
          <li>
        
          <a href="/sc/introduction"><p>introduction</p></a></li>
        </li>
        
          <li>
        
          <a href="/sc/sounds_good"><p>what notes sound good?</p></a>
        </li>
        
          <li>
        
          <a href="/sc/scale"><p>scale of small ratios</p></a>
        </li>
        
          <li>
        
          <a href="/sc/single_voice"><p>a single voice</p></a>
        </li>
        
          <li>
        
          <a href="/sc/give_order"><p>give order to your voice</p></a>
        </li>
        
          <li>
        
          <a href="/sc/wall"><p>wall of algorithms</p></a>
        </li>
        
          <li>
        
          <a href="/sc/song_structure"><p>song structure</p></a>
        </li>
        
          <li class="last">
        
          <a href="/sc/experimentation"><p>experimentation</p></a>
        </li>
      </ul>
    </div>
  </div>
  <div id="main">
    <div id="top-bar">
      <div id="top-desc">
        
        
      </div>
    </div>
    
<p id="title">
  Creating a Random Voice
</p>
<p>
We can create a very simple random voice using our small ratios by picking a random integer for our numerator and a random integer for our denominator, similar to rolling dice. This method has the property of having higher probabilities of consonant frequencies then of dissonant ones. Let's listen:
</p>
<pre id="code">
// first_voice.scd
(
  var basefreq = 400, max = 6;
  p = Pbind(
    \numerator, Pwhite(1, max),
    \denominator, Pwhite(1, max),
    \dur, 0.2,
    \amp, 0.5,
    \freq, basefreq * Pkey(\numerator) / Pkey(\denominator),
  ).play;
)

(p.stop;) // For convenience.
</pre>
<p>
Here are the probabilities of selecting any particular ratio.
</p>
<img src="/static/images/ratio_probabilities.png" />
<p>
If we increase the integer |max| in first_voice.scd, the possible ratios are larger so there are combinations of frequencies that are more dissonant. If we decrease |max| the available ratios are smaller and there are less dissonance frequencies. If you change |max| to a non-integer Pwhite will return all decimal numbers between 1 and |max| so you'll get unrelated frequencies.
</p>
<p>
We can add some complexity to our voice by changing the the <i>duration</i>, the time between the current note and the next note, the <i>amplitude</i>, how loud the note is, and the <i>legato</i>, which says how long we're going to hold the note down for. For now we can put some not totally random data in there.
<pre id="code">
(
  var basefreq = 400, complexity = 6;
  p = Pbind(
    \numerator, Pwhite(1, complexity),
    \denominator, Pwhite(1, complexity),
    \dur, 1 / (2 ** Pwhite(1, 3)),  // duration: a random selection from 1/2, 1/4 and 1/8
    \legato, Pwhite(0.1, 0.5),  // legato: held anywhere from 1/10 the duration to 1/2 the duration
    \amp, Pwhite(0.0, 0.5),  // amplitude: random amplitude 0 to 1/2
    \freq, basefreq * Pkey(\numerator) / Pkey(\denominator),
  );
  a = p.play;
)
</pre>

  </div>
</div>


</body>
</html>